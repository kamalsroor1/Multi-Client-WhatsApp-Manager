# WhatsApp Manager - ุชุญุฏูุซ ุฌุฏูุฏ

## ุงูุชุบููุฑุงุช ุงูุฌุฏูุฏุฉ

### 1. ุชุนุฏูู ุณููู onReady

ุชู ุชุนุฏูู ุฏุงูุฉ `onReady` ูู `WhatsAppService.js` ุจุญูุซ:
- **ูุง ุชููู ุจุชุดุบูู `startBackgroundContactFetch` ุชููุงุฆูุงู**
- **ุชููู ุจุฅูุดุงุก ุงููุฌููุนุงุช ุงูุชููุงุฆูุฉ ููุฑ ุงูุงุชุตุงู**

#### ุงููุฌููุนุงุช ุงูุชููุงุฆูุฉ ุงูุชู ูุชู ุฅูุดุงุคูุง:
1. **"ุฌููุน ุงูุงุฑูุงู"** - ูุฌููุนุฉ ุชุญุชูู ุนูู ุฌููุน ุงูุฃุฑูุงู (ูุงุฑุบุฉ ูู ุงูุจุฏุงูุฉ)
2. **"ุงุฎุฑ ุงูุงุฑูุงู (90 ููู)"** - ูุฌููุนุฉ ููุฃุฑูุงู ุงููุดุทุฉ ุฎูุงู ุขุฎุฑ 90 ููู (ุญุชู ูู ูุงุฑุบุฉ)

#### ููุฒุงุช ููุน ุงูุชูุฑุงุฑ:
- ูุง ูุชู ุฅูุดุงุก ูุฌููุนุงุช ุจููุณ ุงูุงุณู ูุฑุฉ ุฃุฎุฑู
- ูุชู ูุญุต ุงููุฌููุนุงุช ุงูููุฌูุฏุฉ ูุจู ุงูุฅูุดุงุก
- ุฑุณุงุฆู ููุฌูุฉ ูุงุถุญุฉ ุนูุฏ ุงูุนุซูุฑ ุนูู ูุฌููุนุงุช ููุฌูุฏุฉ

### 2. API ุฌุฏูุฏ ูุชุดุบูู ุฌูุจ ุงูุฃุฑูุงู ูุฏููุงู

ุชู ุฅุถุงูุฉ endpoint ุฌุฏูุฏ ูุชุดุบูู `startBackgroundContactFetch` ูุฏููุงู:

```http
POST /api/whatsapp/start-contact-fetch
Content-Type: application/json

{
    "user_id": 123,
    "place_id": 456
}
```

#### Response:
```json
{
    "success": true,
    "data": {
        "success": true,
        "message": "Background contact fetch started",
        "session_id": "session_123_456_1234567890"
    },
    "message": "Background contact fetch started successfully"
}
```

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชููุฆุฉ ุงูุฌูุณุฉ
```http
POST /api/whatsapp/init
{
    "user_id": 123,
    "place_id": 456
}
```

### 2. ูุญุต ุญุงูุฉ ุงูุฌูุณุฉ
```http
GET /api/whatsapp/status?user_id=123&place_id=456
```

### 3. ุจุฏุก ุฌูุจ ุงูุฃุฑูุงู ูุฏููุงู (ุนูุฏ ุงูุญุงุฌุฉ)
```http
POST /api/whatsapp/start-contact-fetch
{
    "user_id": 123,
    "place_id": 456
}
```

### 4. ุนุฑุถ ุงููุฌููุนุงุช
```http
GET /api/whatsapp/groups?user_id=123&place_id=456
```

## ุงูููุงุฆุฏ ูู ุงูุชุญุฏูุซ

### 1. ุชุญูู ุฃูุถู
- ุงููุทูุฑ ููุฑุฑ ูุชู ูุชู ุฌูุจ ุงูุฃุฑูุงู
- ูุง ูุญุฏุซ ุฌูุจ ุชููุงุฆู ูุฏ ูุจุทุฆ ุงููุธุงู
- ุฅูุดุงุก ุงููุฌููุนุงุช ููุฑู ุจุนุฏ ุงูุงุชุตุงู

### 2. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ
- ุงูุฌูุณุฉ ุชุตุจุญ ุฌุงูุฒุฉ ุจุณุฑุนุฉ
- ุงููุฌููุนุงุช ูุชุงุญุฉ ููุฑุงู
- ูุง ุงูุชุธุงุฑ ูุฌูุจ ุงูุฃุฑูุงู

### 3. ูุฑููุฉ ูู ุงูุงุณุชุฎุฏุงู
- ูููู ุฌูุจ ุงูุฃุฑูุงู ูู ููุช ูุงุญู
- ูููู ุฌูุจ ุงูุฃุฑูุงู ุนุฏุฉ ูุฑุงุช
- ุณูุทุฑุฉ ูุงููุฉ ุนูู ุนูููุฉ ุงูุฌูุจ

## ููุงุญุธุงุช ูููุฉ

### ููุน ุงูุชูุฑุงุฑ
- ุงููุฌููุนุงุช ุงูุชููุงุฆูุฉ ูุง ุชุชูุฑุฑ
- ูุชู ูุญุต ุงููุฌููุนุงุช ุงูููุฌูุฏุฉ ูุจู ุงูุฅูุดุงุก
- ุฑุณุงุฆู ูุงุถุญุฉ ูู ุงูููุฌุฒ

### ูุฌููุนุฉ ุงูู90 ููู
- ูุชู ุฅูุดุงุคูุง ุญุชู ูู ูุงูุช ูุงุฑุบุฉ
- ูููุฏุฉ ููุชุตููู ุงููุณุชูุจูู
- ุชุญุฏูุซ ุชููุงุฆู ุนูุฏ ุฌูุจ ุงูุฃุฑูุงู ูุงุญูุงู

### API ุงูุฌุฏูุฏ
- ูุชุทูุจ ุฌูุณุฉ ูุดุทุฉ ูุฌุงูุฒุฉ
- ูุนูู ูู ุงูุฎูููุฉ (non-blocking)
- ุชุญุฏูุซ ููุฑู ูุญุงูุฉ ุงูุชูุฏู

## ุฑุณุงุฆู ุงูููุฌ ุงููุญุฏุซุฉ

```
โ Session ready: session_123_456_1234567890
๐๏ธ Creating default groups for session: session_123_456_1234567890
โน๏ธ Found 0 existing auto groups: 
โ Created 2 new default groups for user 123
โ Created 2 default groups for session: session_123_456_1234567890
```

```
โน๏ธ Starting manual contact fetch for user 123, place 456
โก Background contact fetch for session: session_123_456_1234567890
โ Background contact fetch started successfully
```

## Health Check ูุญุฏุซ

ุงูุขู ูุดูุฑ ุฅูู ุฃู ุฌูุจ ุงูุฃุฑูุงู "ON DEMAND":

```json
{
    "features": {
        "background_contact_fetching": "ON DEMAND"
    }
}
```
